<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=Edge" /><title>Django Advanced Models & Queries - Momentum Team X Course Site</title><link rel="shortcut icon" href="/course/favicon.ico" type="image/x-icon" /><link rel="stylesheet" href="/course/assets/css/just-the-docs-default.css" /> <script type="text/javascript" src="/course/assets/js/vendor/lunr.min.js" ></script> <script type="text/javascript" src="/course/assets/js/just-the-docs.js" ></script><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" /><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" /><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" /><link rel="manifest" href="/course/favicon/site.webmanifest"/><link rel="shortcut icon" href="/course/favicon/favicon.ico" type="image/x-icon" /><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5" /><meta name="msapplication-TileColor" content="#da532c" /><meta name="theme-color" content="#ffffff" /><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://momentum-team-x.github.io/course/" class="site-title lh-tight"><div class="site-logo"></div></a><p class="team-name">Team X</p><a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item" ><a href="https://momentum-team-x.github.io/course/index.html" class="nav-list-link" >Topics by Date</a ><li class="nav-list-item" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/daily-update" class="nav-list-link" >Posts</a ><ul class="nav-list"></ul><li class="nav-list-item" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/phase1/" class="nav-list-link" >Phase 1 Front End</a ><ul class="nav-list"></ul><li class="nav-list-item" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/phase2/" class="nav-list-link" >Phase 2 Back End</a ><ul class="nav-list"></ul><li class="nav-list-item" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/phase3-be/" class="nav-list-link" >Phase 3 Back End</a ><ul class="nav-list"></ul><li class="nav-list-item" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/phase3-fe/" class="nav-list-link" >Phase 3 Front End</a ><ul class="nav-list"></ul><li class="nav-list-item" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/phase4/" class="nav-list-link" >Phase 4</a ><ul class="nav-list"></ul><li class="nav-list-item active" ><a href="#" class="nav-list-expander" ><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg ></a><a href="https://momentum-team-x.github.io/course/references/" class="nav-list-link" >References</a ><ul class="nav-list"><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-ajax-and-apis/" class="nav-list-link" >AJAX & APIs</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/a11y/" class="nav-list-link" >Accessibility</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/agile-development/" class="nav-list-link" >Agile Development</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/css-basics/" class="nav-list-link" >CSS Basics</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/css-extra/" class="nav-list-link" >CSS Extra Stuff</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/css-layout/" class="nav-list-link" >CSS Layout</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/computer-setup-apple-silicon/" class="nav-list-link" >Computer Setup: Apple Silicon</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/computer-setup-intel/" class="nav-list-link" >Computer Setup: Intel</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/databases/" class="nav-list-link" >Databases</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/py-django/" class="nav-list-link" >Django</a ><li class="nav-list-item active" ><a href="https://momentum-team-x.github.io/course/references/advanced-django-models-and-queries/" class="nav-list-link active" >Django Advanced Models & Queries</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/deployment/" class="nav-list-link" >Django Deployment</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/drf/" class="nav-list-link" >Django REST Framework and Building APIs</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/forms/" class="nav-list-link" >Forms and Client-Side Validation</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-forms/" class="nav-list-link" >Forms and Form Validation</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/git-and-cli/" class="nav-list-link" >Git and Command Line</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/html/" class="nav-list-link" >HTML</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/http/" class="nav-list-link" >HTTP</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-dom/" class="nav-list-link" >JS & the DOM</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-arrays/" class="nav-list-link" >JavaScript Arrays</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-basics/" class="nav-list-link" >JavaScript Basics</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-misc/" class="nav-list-link" >JavaScript Dates and Utilities</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-for-react/" class="nav-list-link" >JavaScript For React</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/js-objects/" class="nav-list-link" >JavaScript Objects</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/py-oop/" class="nav-list-link" >Object-Oriented Python</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/learning/" class="nav-list-link" >Pro Tips for Learning To Code</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/py-basics/" class="nav-list-link" >Python Basics</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/py-lists-and-dicts/" class="nav-list-link" >Python Lists & Dicts</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/react/" class="nav-list-link" >React</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/css-responsive/" class="nav-list-link" >Responsive CSS</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/tools/" class="nav-list-link" >Tools</a ><li class="nav-list-item " ><a href="https://momentum-team-x.github.io/course/references/css-design/" class="nav-list-link" >UI/UX and Design</a ></ul><li class="nav-list-item" ><a href="https://momentum-team-x.github.io/course/schedule" class="nav-list-link" >Schedule</a ><li class="nav-list-item" ><a href="https://momentum-team-x.github.io/course/about/" class="nav-list-link" >Help & Info</a ></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Momentum Team X Course Site" aria-label="Search Momentum Team X Course Site" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/momentum-team-X" class="site-button" target="_blank" rel="noopener noreferrer" > Team X on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://momentum-team-x.github.io/course/references/">References</a><li class="breadcrumb-nav-list-item"><span>Django Advanced Models & Queries</span></ol></nav><div id="main-content" class="main-content" role="main"><div class="resource-section"><h2 class="fs-5 my-5 resource-heading" id="django-advanced-models-queries"> <a href="#django-advanced-models-queries" class="anchor-heading" aria-labelledby="django-advanced-models-queries"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Django Advanced Models & Queries</h2><details> <summary class="text-delta"> Contents </summary><ul id="markdown-toc"><li><a href="#models-and-relationships" id="markdown-toc-models-and-relationships">Models and Relationships</a><li><a href="#managers-and-querysets" id="markdown-toc-managers-and-querysets">Managers and QuerySets</a><li><a href="#queries-and-lookups" id="markdown-toc-queries-and-lookups">Queries and Lookups</a><li><a href="#querysets-and-managers" id="markdown-toc-querysets-and-managers">QuerySets and Managers</a><li><a href="#constraints" id="markdown-toc-constraints">Constraints</a><li><a href="#aggregate-and-annotate" id="markdown-toc-aggregate-and-annotate">Aggregate and Annotate</a><li><a href="#using-the-django-shell" id="markdown-toc-using-the-django-shell">Using the Django Shell</a><li><a href="#sql" id="markdown-toc-sql">SQL</a></ul></details><h3 id="models-and-relationships"> <a href="#models-and-relationships" class="anchor-heading" aria-labelledby="models-and-relationships"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Models and Relationships</h3><ul><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/">List of all Django Reference content related to Models</a><li><a href="https://learndjango.com/tutorials/django-custom-user-model">Don’t forget! Django Best Practices: Custom User Model</a><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/instances/#saving-objects">Django Docs: Saving Model Instances</a><li><a href="https://markusholtermann.eu/2019/03/less-obvious-things-to-do-with-djangos-orm/">Less Obvious Things to Do with the Django ORM</a><li><a href="https://www.revsys.com/tidbits/tips-using-djangos-manytomanyfield/">🍕 Tips for using Django’s Many-to-Many Field</a><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/relations/#related-objects-reference">Django Docs: Related Objects Reference</a></ul><h3 id="managers-and-querysets"> <a href="#managers-and-querysets" class="anchor-heading" aria-labelledby="managers-and-querysets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Managers and QuerySets</h3><ul><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/managers">Django Docs: Model Managers</a><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/relations/#related-objects-reference">Django Docs: Related Objects Reference</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#retrieving-objects">Django Docs: QuerySets</a></ul><h3 id="queries-and-lookups"> <a href="#queries-and-lookups" class="anchor-heading" aria-labelledby="queries-and-lookups"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Queries and Lookups</h3><p>You can think of queries like questions you ask about your data, phrased in a way that the database can answer. Django has a built-in library (the Django ORM) that lets us do all the CRUD actions we need for our application, and more.</p><ul><li><a href="https://github.com/momentum-team-X/notes/blob/main/django-queries.md">Django Model Queries CheatSheet</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#retrieving-objects">Django Docs: Retrieving Objects</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#field-lookups">Django Docs: Field lookups</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#lookups-that-span-relationships">Django Docs: Lookups that span relationships</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#related-objects">Django Docs: Lookups with Related objects</a><li><a href="https://youtu.be/WimXjp0ryOo">Pretty Printed Video: How Model Queries Work in Django</a><li><a href="https://youtu.be/iwNBwG8RBok">Pretty Printed Video: Querying One-to-Many Relationships in Django</a></ul><h3 id="querysets-and-managers"> <a href="#querysets-and-managers" class="anchor-heading" aria-labelledby="querysets-and-managers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> QuerySets and Managers</h3><ul><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#retrieving-objects">Django Docs: QuerySets</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/managers">Django Docs: Model Managers</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/queries/#complex-lookups-with-q-objects">Django Docs: Complex lookups with Q</a><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/expressions/#django.db.models.F">Django Docs: Database expressions with F objects</a></ul><h3 id="constraints"> <a href="#constraints" class="anchor-heading" aria-labelledby="constraints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Constraints</h3><ul><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/options/#constraints">Django Docs: model constraints</a> -&gt; this gives you the general format/syntax<li><a href="https://docs.djangoproject.com/en/4.1/ref/models/constraints/#uniqueconstraint">Django Docs: UniqueConstraint</a></ul><h3 id="aggregate-and-annotate"> <a href="#aggregate-and-annotate" class="anchor-heading" aria-labelledby="aggregate-and-annotate"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Aggregate and Annotate</h3><ul><li><a href="https://youtu.be/2MFAV-arSuI">PrettyPrinted Video: Basics of Django Aggregations</a><li><a href="https://youtu.be/KbwmdKl-QbI">Pretty Printed Video: How to Use Annotate in Django</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/aggregation/">Django docs: Aggregate &amp; Annotate</a><li><a href="https://docs.djangoproject.com/en/4.1/topics/db/aggregation/#s-aggregations-and-other-queryset-clauses">Django docs: Combining Aggregations with other QuerySets</a><li><a href="https://docs.djangoproject.com/en/4.1/ref/models/querysets/#aggregation-functions">Django Docs: Aggregation Functions</a> (e.g., <code class="language-plaintext highlighter-rouge">Avg</code>, <code class="language-plaintext highlighter-rouge">Count</code>, <code class="language-plaintext highlighter-rouge">Min</code>, <code class="language-plaintext highlighter-rouge">Max</code>)</ul><h3 id="using-the-django-shell"> <a href="#using-the-django-shell" class="anchor-heading" aria-labelledby="using-the-django-shell"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using the Django Shell</h3><p>This is about Django’s interactive REPL, not pipenv shell, and also not zsh.</p><ul><li><a href="https://docs.djangoproject.com/en/4.1/ref/django-admin/#shell">Django Docs: Using the Django Shell</a><li><a href="https://django-extensions.readthedocs.io/en/latest/shell_plus.html#shell-plus">How to use django-extensions <code class="language-plaintext highlighter-rouge">shell_plus</code></a></ul><h3 id="sql"> <a href="#sql" class="anchor-heading" aria-labelledby="sql"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SQL</h3><p><em>Links in this section are really more information than you need right now, but it’s relevant and interesting. Things included here are good to know but ok to save for later.</em></p><ul><li><a href="https://www.techtarget.com/searchdatamanagement/definition/SQL">What is SQL?</a><li><a href="https://learnxinyminutes.com/docs/sql/">SQL Basics: Learn X in Y minutes</a> -&gt; this is a helpful reference for SQL syntax when you run into it. You do not need to write SQL for Django because the Django ORM does it for you, and it does it well. The Django docs often illustrate queries made by the ORM using SQL syntax, however, and you will find it helpful in your job to know the basics.</ul></div><hr><footer><p><a href="#top" id="back-to-top">Back to top ⌃</a></p><p class="text-small text-grey-dk-100 mb-0">&copy;2023 Momentum</p></footer></div></div><div class="search-overlay"></div></div><script> link_elements = document.getElementsByTagName('a'); const ensure_external_links_open_in_new_tab = () => { for (const link_el of link_elements) { if(link_el.getAttribute("href") && link_el.hostname !== location.hostname) { link_el.target = "_blank"; link_el.rel = "noopener"; } } }; ensure_external_links_open_in_new_tab(); </script>
